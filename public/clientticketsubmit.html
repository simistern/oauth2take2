<!DOCTYPE HTML>
<html>

<body>

  <div id = "app" ng-app="ticketClientSubmitModule" ng-controller="controller">

    <h1>Welcome To Pilots ticket submitting page</h1>

    <form name="Submission Form">
      <input type="text" name="input" ng-model="ticket.title">
      <textarea rows="10" cols="50" ng-model="ticket.message"></textarea>
    </form>
  <input type="button" name="submitTicket" value="Submit Ticket" ng-click="submitTicket(ticket)"/>
</div>

  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-rc.2/angular.min.js"> </script>
  <script src="./ticketadmin.js"></script>

<script>
var app = angular.module("ticketClientSubmitModule", []);
app.controller("controller", function($scope, $http, $location){


  $scope.submitTicket = function(ticket){
    console.log("submitTicket " + JSON.stringify($scope.ticket) + " " +  JSON.stringify($scope.ticket.title));
    $http({
      "method": "POST",
      "url": "/ticketsubmission",
      "data": {
        "name": $scope.loginName,
        "title": $scope.ticket.title,
        "message": $scope.ticket.message
      }
    }).then(function(res){
      $scope.ticket.title="";
      $scope.ticket.message="";
    });
  }

})


</script>


  </body>
</html>
